{"remainingRequest":"/home/gustavo/Dev/Seed/frontend/node_modules/babel-loader/lib/index.js!/home/gustavo/Dev/Seed/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/gustavo/Dev/Seed/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/gustavo/Dev/Seed/frontend/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/gustavo/Dev/Seed/frontend/src/views/Login.vue","mtime":1612134986542},{"path":"/home/gustavo/Dev/Seed/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/gustavo/Dev/Seed/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/gustavo/Dev/Seed/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/gustavo/Dev/Seed/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/gustavo/Dev/Seed/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/gustavo/Dev/Seed/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/gustavo/Dev/Seed/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/gustavo/Dev/Seed/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEhlYWRlckxvZ2luIGZyb20gJ0AvY29tcG9uZW50cy9wYXJ0aWFsX3ZpZXcvaGVhZGVyLWxvZ2luLnZ1ZSc7CmltcG9ydCBVc2VyIGZyb20gJ0AvbW9kZWxzL3VzZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxvZ2luIiwKICBjb21wb25lbnRzOiB7CiAgICBIZWFkZXJMb2dpbjogSGVhZGVyTG9naW4KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaG93OiBmYWxzZSwKICAgICAgdXNlcjogbmV3IFVzZXIoJycsICcnKSwKICAgICAgbG9naW5FcnJvcjogZmFsc2UsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBlcnJvck1lc3NhZ2U6ICdVc3XDoXJpbyBvdSBzZW5oYSBpbmNvcnJldG9zJywKICAgICAgbWVzc2FnZTogJycsCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgcmVxdWlyZWQ6IGZ1bmN0aW9uIHJlcXVpcmVkKHZhbHVlKSB7CiAgICAgICAgICByZXR1cm4gISF2YWx1ZSB8fCAnT2JyaWdhdMOzcmlvLic7CiAgICAgICAgfSwKICAgICAgICBtaW46IGZ1bmN0aW9uIG1pbih2KSB7CiAgICAgICAgICByZXR1cm4gdi5sZW5ndGggPj0gOCB8fCAnTm8gbcOtbmltbyA4IGNhcmFjdGVyZXMnOwogICAgICAgIH0sCiAgICAgICAgZW1haWxNYXRjaDogZnVuY3Rpb24gZW1haWxNYXRjaCgpIHsKICAgICAgICAgIHJldHVybiAiVGhlIGVtYWlsIGFuZCBwYXNzd29yZCB5b3UgZW50ZXJlZCBkb24ndCBtYXRjaCI7CiAgICAgICAgfQogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGxvZ2dlZEluOiBmdW5jdGlvbiBsb2dnZWRJbigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmF1dGguc3RhdHVzLmxvZ2dlZEluOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGlmICh0aGlzLmxvZ2dlZEluKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnSG9tZScKICAgICAgfSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgdmFsaWRhdGUgPSB0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKTsKCiAgICAgIGlmICh2YWxpZGF0ZSkgewogICAgICAgIGlmICh0aGlzLnVzZXIudXNlcm5hbWUgJiYgdGhpcy51c2VyLnBhc3N3b3JkKSB7CiAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnYXV0aC9sb2dpbicsIHRoaXMudXNlcikudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgnLycpOwogICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgX3RoaXMubG9naW5FcnJvciA9IHRydWU7CiAgICAgICAgICAgIF90aGlzLm1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4EA,OAAA,WAAA,MAAA,4CAAA;AAEA,OAAA,IAAA,MAAA,eAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,IAAA,EAAA,IAAA,IAAA,CAAA,EAAA,EAAA,EAAA,CAFA;AAGA,MAAA,UAAA,EAAA,KAHA;AAIA,MAAA,OAAA,EAAA,KAJA;AAKA,MAAA,YAAA,EAAA,6BALA;AAMA,MAAA,OAAA,EAAA,EANA;AAOA,MAAA,KAAA,EAAA;AACA,QAAA,QAAA,EAAA,kBAAA,KAAA;AAAA,iBAAA,CAAA,CAAA,KAAA,IAAA,cAAA;AAAA,SADA;AAEA,QAAA,GAAA,EAAA,aAAA,CAAA;AAAA,iBAAA,CAAA,CAAA,MAAA,IAAA,CAAA,IAAA,wBAAA;AAAA,SAFA;AAGA,QAAA,UAAA,EAAA;AAAA;AAAA;AAHA;AAPA,KAAA;AAaA,GAnBA;AAoBA,EAAA,QAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,MAAA,CAAA,QAAA;AACA;AAHA,GApBA;AAyBA,EAAA,OAzBA,qBAyBA;AACA,QAAA,KAAA,QAAA,EAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA;AACA,GA7BA;AA8BA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AAAA;;AACA,UAAA,QAAA,GAAA,KAAA,KAAA,CAAA,IAAA,CAAA,QAAA,EAAA;;AACA,UAAA,QAAA,EAAA;AACA,YAAA,KAAA,IAAA,CAAA,QAAA,IAAA,KAAA,IAAA,CAAA,QAAA,EAAA;AACA,eAAA,MAAA,CAAA,QAAA,CAAA,YAAA,EAAA,KAAA,IAAA,EAAA,IAAA,CACA,YAAA;AACA,YAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA,WAHA,EAIA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,YAAA,KAAA,CAAA,UAAA,GAAA,IAAA;AACA,YAAA,KAAA,CAAA,OAAA,GAAA,KAAA,CAAA,OAAA;AACA,WARA;AAUA;AACA;AACA;AAjBA;AA9BA,CAAA","sourcesContent":["<template>\n    <cnt-container>\n        <g-header class='mobile' />\n        <div class='content'>\n            <div class='formContainer'>\n                <header-login class='desktop' />\n\n                <v-form\n                    ref='form'\n                    lazy-validation\n                    class='form'\n                >\n                    <v-text-field\n                        v-model='user.username'\n                        :rules='[rules.required]'\n                        label='Usuário'\n                        outlined\n                        dense\n                        required\n                    />\n                    <v-text-field\n                        v-model='user.password'\n                        :append-icon='show ? \"mdi-eye\" : \"mdi-eye-off\"'\n                        :rules='[rules.required, rules.min]'\n                        :type='show ? \"text\" : \"password\"'\n                        label='Senha'\n                        outlined\n                        dense\n                        @click:append='show = !show'\n                    />\n                    <div class='links'>\n                        <a\n                            class='forgetPwd'\n                            href='/'\n                        >Esqueci a senha</a>\n                        <g-btn\n                            _type='primary'\n                            class='mt-1'\n                            :disabled='loading'\n                            @click='login'\n                        >\n                            Login\n                        </g-btn>\n                    </div>\n                    <div v-if='loginError'>\n                        <v-alert\n                            class='error'\n                            dismissible\n                            elevation='12'\n                            type='error'\n                        >\n                            {{errorMessage}}\n                        </v-alert>\n                    </div>\n                    <div\n                        v-if='loading'\n                        class='loading'\n                    >\n                        <v-progress-circular\n                            indeterminate\n                            color='primary'\n                        />\n                    </div>\n                </v-form>\n            </div>\n            <div class='image'>\n                <v-img\n                    src='../assets/img/imgBkg2.jpg'\n                    height='100vh'\n                />\n            </div>\n        </div>\n    </cnt-container>\n</template>\n\n<script>\n    import HeaderLogin from '@/components/partial_view/header-login.vue'\n\n    import User from '@/models/user';\n\n    export default {\n        name:\"Login\",\n        components:{\n            HeaderLogin,\n        },\n        data () {\n            return {\n                show: false,\n                user: new User('', ''),\n                loginError: false,\n                loading: false,\n                errorMessage: 'Usuário ou senha incorretos',\n                message: '',\n                rules: {\n                    required: value => !!value || 'Obrigatório.',\n                    min: v => v.length >= 8 || 'No mínimo 8 caracteres',\n                    emailMatch: () => (`The email and password you entered don't match`),\n                },\n            }\n        },\n        computed: {\n            loggedIn() {\n                return this.$store.state.auth.status.loggedIn;\n            }\n        },\n        created() {\n            if (this.loggedIn) {\n                this.$router.push({name: 'Home'});\n            }\n        },\n        methods: {\n            login () {\n                const validate = this.$refs.form.validate();\n                if(validate){\n                    if (this.user.username && this.user.password) {\n                        this.$store.dispatch('auth/login', this.user).then(\n                            () => {\n                                this.$router.push('/');\n                            },\n                            error => {\n                                this.loading = false;\n                                this.loginError = true;\n                                this.message = error.message;\n                            }\n                        );\n                    }\n                }\n            },\n        },\n    }\n</script>\n\n<style scoped lang=\"scss\">\n@use \"@/css/modules/_typography.scss\";\n@import \"@/css/global.scss\";\n\n.formContainer{\n    margin-top: 5em;\n}\n\n.form{\n    padding: 1.5em;\n    @include md{\n        padding: 0;\n    }\n}\n.forgetPwd{\n    @include typography.link;\n    opacity: 0.5;\n    font-weight: 500;\n}\n\n.links{\n    text-align: right;\n}\n\n.image{\n    display: none;\n}\n\n.desktop{\n    display: none;\n}\n\n.error{\n    margin-top: 3em;\n    width: 80%;\n    margin-left: auto;\n    margin-right: auto;\n}\n\n.loading{\n    margin-top: 3em;\n    width: 80%;\n    margin-left: auto;\n    margin-right: auto;\n    display: flex;\n    justify-content: center;\n    align-content: center;\n}\n\n.content{\n    margin: 0;\n    padding: 0;\n    display: flex;\n    flex-direction: column;\n    @include md{\n        flex-direction: row;\n    }\n}\n@media screen and (min-width: $screen-md-min){\n    .mobile{\n        display: none;\n    }\n    .container{\n        display: flex;\n        flex-direction: row;\n    }\n    .image{\n        display: block;\n        height: 100vh;\n        width: 45%;\n    }\n    .formContainer{\n        margin: 0;\n        height: 100vh;\n        width: 55%;\n    }\n    .form{\n        width: 50%;\n        margin-left: auto;\n        margin-right: auto;\n        margin-top: 10em;\n    }\n\n    .desktop{\n        display: block;\n    }\n}\n</style>\n"],"sourceRoot":"src/views"}]}