{"remainingRequest":"/home/gustavo/Dev/seed-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/gustavo/Dev/seed-front/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/gustavo/Dev/seed-front/src/views/Login.vue","mtime":1612567586348},{"path":"/home/gustavo/Dev/seed-front/node_modules/cache-loader/dist/cjs.js","mtime":1612567551712},{"path":"/home/gustavo/Dev/seed-front/node_modules/babel-loader/lib/index.js","mtime":1612567551836},{"path":"/home/gustavo/Dev/seed-front/node_modules/cache-loader/dist/cjs.js","mtime":1612567551712},{"path":"/home/gustavo/Dev/seed-front/node_modules/vue-loader/lib/index.js","mtime":1612567545928}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBIZWFkZXJMb2dpbiBmcm9tICdAL2NvbXBvbmVudHMvcGFydGlhbF92aWV3L2hlYWRlci1sb2dpbi52dWUnCgppbXBvcnQgVXNlciBmcm9tICdAL21vZGVscy91c2VyJzsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6IkxvZ2luIiwKICAgIGNvbXBvbmVudHM6ewogICAgICAgIEhlYWRlckxvZ2luLAogICAgfSwKICAgIGRhdGEgKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHNob3c6IGZhbHNlLAogICAgICAgICAgICB1c2VyOiBuZXcgVXNlcignJywgJycpLAogICAgICAgICAgICBsb2dpbkVycm9yOiBmYWxzZSwKICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogJ1VzdcOhcmlvIG91IHNlbmhhIGluY29ycmV0b3MnLAogICAgICAgICAgICBtZXNzYWdlOiAnJywKICAgICAgICAgICAgcnVsZXM6IHsKICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB2YWx1ZSA9PiAhIXZhbHVlIHx8ICdPYnJpZ2F0w7NyaW8uJywKICAgICAgICAgICAgICAgIG1pbjogdiA9PiB2Lmxlbmd0aCA+PSA4IHx8ICdObyBtw61uaW1vIDggY2FyYWN0ZXJlcycsCiAgICAgICAgICAgICAgICBlbWFpbE1hdGNoOiAoKSA9PiAoYFRoZSBlbWFpbCBhbmQgcGFzc3dvcmQgeW91IGVudGVyZWQgZG9uJ3QgbWF0Y2hgKSwKICAgICAgICAgICAgfSwKICAgICAgICB9CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICBsb2dnZWRJbigpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmF1dGguc3RhdHVzLmxvZ2dlZEluOwogICAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVkKCkgewogICAgICAgIGlmICh0aGlzLmxvZ2dlZEluKSB7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiAnSG9tZSd9KTsKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGxvZ2luICgpIHsKICAgICAgICAgICAgY29uc3QgdmFsaWRhdGUgPSB0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKTsKICAgICAgICAgICAgaWYodmFsaWRhdGUpewogICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlci51c2VybmFtZSAmJiB0aGlzLnVzZXIucGFzc3dvcmQpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnYXV0aC9sb2dpbicsIHRoaXMudXNlcikudGhlbigKICAgICAgICAgICAgICAgICAgICAgICAgKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2luRXJyb3IgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gZXJyb3IubWVzc2FnZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgfSwKfQo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4EA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <cnt-container>\n        <g-header class='mobile' />\n        <div class='content'>\n            <div class='formContainer'>\n                <header-login class='desktop' />\n\n                <v-form\n                    ref='form'\n                    lazy-validation\n                    class='form'\n                >\n                    <v-text-field\n                        v-model='user.username'\n                        :rules='[rules.required]'\n                        label='Usuário'\n                        outlined\n                        dense\n                        required\n                    />\n                    <v-text-field\n                        v-model='user.password'\n                        :append-icon='show ? \"mdi-eye\" : \"mdi-eye-off\"'\n                        :rules='[rules.required, rules.min]'\n                        :type='show ? \"text\" : \"password\"'\n                        label='Senha'\n                        outlined\n                        dense\n                        @click:append='show = !show'\n                    />\n                    <div class='links'>\n                        <a\n                            class='forgetPwd'\n                            href='/'\n                        >Esqueci a senha</a>\n                        <g-btn\n                            _type='primary'\n                            class='mt-1'\n                            :disabled='loading'\n                            @click='login'\n                        >\n                            Login\n                        </g-btn>\n                    </div>\n                    <div v-if='loginError'>\n                        <v-alert\n                            class='error'\n                            dismissible\n                            elevation='12'\n                            type='error'\n                        >\n                            {{errorMessage}}\n                        </v-alert>\n                    </div>\n                    <div\n                        v-if='loading'\n                        class='loading'\n                    >\n                        <v-progress-circular\n                            indeterminate\n                            color='primary'\n                        />\n                    </div>\n                </v-form>\n            </div>\n            <div class='image'>\n                <v-img\n                    src='../assets/img/imgBkg2.jpg'\n                    height='100vh'\n                />\n            </div>\n        </div>\n    </cnt-container>\n</template>\n\n<script>\n    import HeaderLogin from '@/components/partial_view/header-login.vue'\n\n    import User from '@/models/user';\n\n    export default {\n        name:\"Login\",\n        components:{\n            HeaderLogin,\n        },\n        data () {\n            return {\n                show: false,\n                user: new User('', ''),\n                loginError: false,\n                loading: false,\n                errorMessage: 'Usuário ou senha incorretos',\n                message: '',\n                rules: {\n                    required: value => !!value || 'Obrigatório.',\n                    min: v => v.length >= 8 || 'No mínimo 8 caracteres',\n                    emailMatch: () => (`The email and password you entered don't match`),\n                },\n            }\n        },\n        computed: {\n            loggedIn() {\n                return this.$store.state.auth.status.loggedIn;\n            }\n        },\n        created() {\n            if (this.loggedIn) {\n                this.$router.push({name: 'Home'});\n            }\n        },\n        methods: {\n            login () {\n                const validate = this.$refs.form.validate();\n                if(validate){\n                    if (this.user.username && this.user.password) {\n                        this.$store.dispatch('auth/login', this.user).then(\n                            () => {\n                                this.$router.push('/');\n                            },\n                            error => {\n                                this.loading = false;\n                                this.loginError = true;\n                                this.message = error.message;\n                            }\n                        );\n                    }\n                }\n            },\n        },\n    }\n</script>\n\n<style scoped lang=\"scss\">\n@use \"@/css/modules/_typography.scss\";\n@import \"@/css/global.scss\";\n\n.formContainer{\n    margin-top: 5em;\n}\n\n.form{\n    padding: 1.5em;\n    @include md{\n        padding: 0;\n    }\n}\n.forgetPwd{\n    @include typography.link;\n    opacity: 0.5;\n    font-weight: 500;\n}\n\n.links{\n    text-align: right;\n}\n\n.image{\n    display: none;\n}\n\n.desktop{\n    display: none;\n}\n\n.error{\n    margin-top: 3em;\n    width: 80%;\n    margin-left: auto;\n    margin-right: auto;\n}\n\n.loading{\n    margin-top: 3em;\n    width: 80%;\n    margin-left: auto;\n    margin-right: auto;\n    display: flex;\n    justify-content: center;\n    align-content: center;\n}\n\n.content{\n    margin: 0;\n    padding: 0;\n    display: flex;\n    flex-direction: column;\n    @include md{\n        flex-direction: row;\n    }\n}\n@media screen and (min-width: $screen-md-min){\n    .mobile{\n        display: none;\n    }\n    .container{\n        display: flex;\n        flex-direction: row;\n    }\n    .image{\n        display: block;\n        height: 100vh;\n        width: 45%;\n    }\n    .formContainer{\n        margin: 0;\n        height: 100vh;\n        width: 55%;\n    }\n    .form{\n        width: 50%;\n        margin-left: auto;\n        margin-right: auto;\n        margin-top: 10em;\n    }\n\n    .desktop{\n        display: block;\n    }\n}\n</style>\n"]}]}