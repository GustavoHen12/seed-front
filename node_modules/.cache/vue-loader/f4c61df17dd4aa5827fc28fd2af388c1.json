{"remainingRequest":"/home/gustavo/Dev/Seed/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/gustavo/Dev/Seed/frontend/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/gustavo/Dev/Seed/frontend/src/views/Login.vue","mtime":1611007256143},{"path":"/home/gustavo/Dev/Seed/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/gustavo/Dev/Seed/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/gustavo/Dev/Seed/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/gustavo/Dev/Seed/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBIZWFkZXJMb2dpbiBmcm9tICdAL2NvbXBvbmVudHMvcGFydGlhbF92aWV3L2hlYWRlci1sb2dpbi52dWUnCgppbXBvcnQgVXNlciBmcm9tICdAL21vZGVscy91c2VyJzsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6IkxvZ2luIiwKICAgIGNvbXBvbmVudHM6ewogICAgICAgIEhlYWRlckxvZ2luLAogICAgfSwKICAgIGRhdGEgKCkgewogICAgICByZXR1cm4gewogICAgICAgIHNob3c6IGZhbHNlLAogICAgICAgIHVzZXI6IG5ldyBVc2VyKCcnLCAnJyksCiAgICAgICAgbG9naW5FcnJvcjogZmFsc2UsCiAgICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgICAgZXJyb3JNZXNzYWdlOiAnVXN1w6FyaW8gb3Ugc2VuaGEgaW5jb3JyZXRvcycsCiAgICAgICAgbWVzc2FnZTogJycsCiAgICAgICAgcnVsZXM6IHsKICAgICAgICAgIHJlcXVpcmVkOiB2YWx1ZSA9PiAhIXZhbHVlIHx8ICdPYnJpZ2F0w7NyaW8uJywKICAgICAgICAgIG1pbjogdiA9PiB2Lmxlbmd0aCA+PSA4IHx8ICdObyBtw61uaW1vIDggY2FyYWN0ZXJlcycsCiAgICAgICAgICBlbWFpbE1hdGNoOiAoKSA9PiAoYFRoZSBlbWFpbCBhbmQgcGFzc3dvcmQgeW91IGVudGVyZWQgZG9uJ3QgbWF0Y2hgKSwKICAgICAgICB9LAogICAgICB9CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICBsb2dnZWRJbigpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmF1dGguc3RhdHVzLmxvZ2dlZEluOwogICAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVkKCkgewogICAgICAgIGlmICh0aGlzLmxvZ2dlZEluKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKTsKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICBsb2dpbiAoKSB7CiAgICAgICAgY29uc3QgdmFsaWRhdGUgPSB0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKTsKICAgICAgICBpZih2YWxpZGF0ZSl7CiAgICAgICAgICAgIGlmICh0aGlzLnVzZXIudXNlcm5hbWUgJiYgdGhpcy51c2VyLnBhc3N3b3JkKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnYXV0aC9sb2dpbicsIHRoaXMudXNlcikudGhlbigKICAgICAgICAgICAgICAgICAgICAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvJyk7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBlcnJvciA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2luRXJyb3IgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICB9LAp9Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <cnt-container class='container'>\n        <g-header class='mobile'/>\n\n        <div class = \"formContainer\">\n            <header-login class='desktop'/>\n\n            <v-form\n                ref=\"form\"\n                v-model=\"valid\"\n                lazy-validation\n                class='form'\n            >\n            <v-text-field\n                v-model=\"user.username\"\n                :rules=\"[rules.required]\"\n                label=\"Usuário\"\n                outlined\n                dense\n                required\n            ></v-text-field>\n            <v-text-field\n                v-model=\"user.password\"\n                :append-icon=\"show ? 'mdi-eye' : 'mdi-eye-off'\"\n                :rules=\"[rules.required, rules.min]\"\n                :type=\"show ? 'text' : 'password'\"\n                label=\"Senha\"\n                outlined\n                dense\n                @click:append=\"show = !show\"\n            ></v-text-field>\n            <div class=\"links\">\n                <a class='forgetPwd' href=\"/\">Esqueci a senha</a>\n                <g-btn _type='primary' class='mt-1' :onClick='login' :disabled='loading'>Login</g-btn>\n            </div>\n            <div v-if='loginError'>\n                <v-alert\n                    class='error'\n                    dismissible\n                    elevation=\"12\"\n                    type=\"error\"\n                >\n                    {{errorMessage}}\n                </v-alert>\n            </div>\n            <div class='loading' v-if='loading'>\n                <v-progress-circular\n                    indeterminate\n                    color=\"primary\"\n                />\n            </div>\n            </v-form>\n        </div>\n        <div class='image'>\n            <v-img \n                src=\"../assets/img/imgBkg2.jpg\"\n                height=\"100vh\"\n            />\n        </div>\n    </cnt-container>    \n</template>\n\n<script>\nimport HeaderLogin from '@/components/partial_view/header-login.vue'\n\nimport User from '@/models/user';\n\nexport default {\n    name:\"Login\",\n    components:{\n        HeaderLogin,\n    },\n    data () {\n      return {\n        show: false,\n        user: new User('', ''),\n        loginError: false,\n        loading: false,\n        errorMessage: 'Usuário ou senha incorretos',\n        message: '',\n        rules: {\n          required: value => !!value || 'Obrigatório.',\n          min: v => v.length >= 8 || 'No mínimo 8 caracteres',\n          emailMatch: () => (`The email and password you entered don't match`),\n        },\n      }\n    },\n    computed: {\n        loggedIn() {\n            return this.$store.state.auth.status.loggedIn;\n        }\n    },\n    created() {\n        if (this.loggedIn) {\n        this.$router.push('/');\n        }\n    },\n    methods: {\n      login () {\n        const validate = this.$refs.form.validate();\n        if(validate){\n            if (this.user.username && this.user.password) {\n                this.$store.dispatch('auth/login', this.user).then(\n                    () => {\n                        this.$router.push('/');\n                    },\n                    error => {\n                        this.loading = false;\n                        this.loginError = true;\n                        this.message = error.message;\n                    }\n                );\n            }\n        }\n      },\n    },\n}\n</script>\n\n<style scoped lang=\"scss\">\n@use \"@/css/modules/_typography.scss\";\n@import \"@/css/global.scss\";\n\n.formContainer{\n    margin-top: 5em;\n}\n\n.forgetPwd{\n    @include typography.link;\n    opacity: 0.5;\n    font-weight: 500;\n}\n\n.links{\n    text-align: right;\n}\n\n.image{\n    display: none;    \n}\n.desktop{\n    display: none;\n}\n\n.error{\n    margin-top: 3em;\n    width: 80%;\n    margin-left: auto;\n    margin-right: auto;\n}\n\n.loading{\n    margin-top: 3em;\n    width: 80%;\n    margin-left: auto;\n    margin-right: auto;\n    display: flex;\n    justify-content: center;\n    align-content: center;\n}\n\n@media screen and (min-width: $screen-md-min){\n    .mobile{\n        display: none;\n    }\n    .container{\n        flex-direction: row;\n    }\n    .image{\n        display: block;\n        height: 100vh;\n        width: 45%;\n    }\n    .formContainer{\n        margin: 0;\n        height: 100vh;\n        width: 55%;\n    }\n    .form{\n        width: 50%;\n        margin-left: auto;\n        margin-right: auto;\n        margin-top: 10em;\n    }\n\n    .desktop{\n        display: block;\n    }\n}\n</style>\n"]}]}